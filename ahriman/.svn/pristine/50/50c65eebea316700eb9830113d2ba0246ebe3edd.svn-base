<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="base::common_header(~{::title},~{::link})">
	<title>基础数据表</title>
	<link rel="stylesheet" href="/css/chosen.css" th:href="@{/css/chosen.css}">
	<link rel="stylesheet" href="/css/style.css" th:href="@{/css/style.css}">
  	<link rel="stylesheet" href="/css/prism.css" th:href="@{/css/prism.css}">
  	<link rel="stylesheet" href="/generalInfo/basicInfo/index.css" th:href="@{/generalInfo/basicInfo/index.css}">
</head>
<body>
	<div class="x-nav">
		<span class="layui-breadcrumb">
			<a href="javascript:;"><cite>首页</cite></a>
			<a href="javascript:;"><cite>综合信息</cite></a>
			<a href="javascript:;"><cite>基础数据表</cite></a>
		</span>
	</div>
	<div class="x-body">
		<div class="layui-card">
			<div class="layui-card-header">查询条件</div>
			<div class="layui-card-body">
				<form id="searchForm" class="layui-container x-so">
					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">开始日</label>
							<div class="layui-input-inline" style="width: 100px;">
								<input name="start" autocomplete="off" id="start"
									class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">截止日</label>
							<div class="layui-input-inline" style="width: 100px;">
								<input name="end" autocomplete="off" id="end"
									class="layui-input">
							</div>
						</div>
						<div class="layui-inline">
							<label class="layui-form-label">渠道</label>
							<div class="layui-input-inline">
								<select id="platform" name="platform" multiple class="chosen-select">
									<option value="-1" selected>全部渠道</option>
									<option th:each="item : ${platform}" th:value="${item}" th:text="${item}"></option>
								</select>
							</div>
						</div>
					</div>
					<div class="layui-form-item">
						<div class="layui-inline">
							<label class="layui-form-label">服务器</label>
							<div class="layui-input-inline">
								<select id="serverId" name="serverId" multiple class="chosen-select">
									<option value="-1" selected>全部服务器</option>
									<option th:each="server : ${serverList}" th:value="${server.serverid}" th:text="${server.servername}"></option>
								</select>
							</div>
						</div>
						<a class="layui-btn layui-btn-small" style="margin-left: 5px;float: right;" href="javascript:location.replace(location.href);" title="刷新">
							<i class="layui-icon" >&#xe666;</i></a>
						<button class="layui-btn" type="button" lay-submit lay-filter="export" style="float: right;margin-left: 5px;"><i class="layui-icon">&#xe601;</i></button>
						<button id="searchBtn" class="layui-btn" type="button" lay-submit lay-filter="search" style="float: right;"><i class="layui-icon">&#xe615;</i></button>
					</div>
				</form>
			</div>
		</div>
		<div class="layui-card">
			<div class="layui-card-header">数据说明</div>
			<div class="layui-card-body">
				1、总安装：游戏上线之日起客服端安装数量总和<br>
				2、新安装：每日安装客户端端数量总和<br>
				3、总注册：游戏上线之日起注册账号数量总和<br>
				4、总收入：游戏上线后所有收益的总和（统一转化为RMB计价）<br>
				5、日收入：每日00：00-24：00累计充值金额的总和<br>
				6、新用户：每日新注册角色且登录游戏的用户数
			</div>
		</div>
		<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
		<div class="layui-card" style="background-color: rgba(0,0,0,0);">
			<div id="main" lay-filter="main"></div> <!-- style="height: 400px;width: 100%;" class="layui-col-lg12" -->
			<!-- <table id="main" class="layui-table" lay-data="{height: 450,url: 'generalInfo/basicInfo/getBasicInfo',page: true,limit: 30,loading: true,text: {none: '暂无相关数据'},where: {field:'date',sord:'asc'},done: function (response){$('#start').val(response.extra.start);$('#end').val(response.extra.end);}}" lay-filter="main">
				<thead>
					<tr>
						<th lay-data="{field: 'date', width:120, align: 'center',sort: false}" rowspan="2" >日期</th>
						<th lay-data="{align: 'center'}" colspan="3">安装注册</th>
						<th lay-data="{align: 'center'}" colspan="4">总收入</th>
						<th lay-data="{align: 'center'}" colspan="3">活跃用户</th>
						<th lay-data="{align: 'center'}" colspan="6">次日</th>
						<th lay-data="{align: 'center'}" colspan="2">美元</th>
						<th lay-data="{align: 'center'}" colspan="3">充值用户数</th>
						<th lay-data="{align: 'center'}" colspan="3">付费率</th>
					</tr>
					<tr>
						
						<th lay-data="{field: 'totalInstalled', width:120, sort: false,align: 'center',templet: function (value){return 0;}}">总安装</th>
						<th lay-data="{field: 'newInstalled', width:120, sort: false,align: 'center',templet: function (value){return 0;}}">新安装</th>
						<th lay-data="{field: 'totalRegistered', width:120, sort: false,templet: function (value){if(value.totalRegistered != undefined){return value.totalRegistered;} return '--';},align: 'center'}">总注册</th>
						<th lay-data="{field: 'totalRevenue', width:130, sort: false,templet: function (value){return value.totalRevenue.toFixed(0);},align: 'center'}">总收入</th>
						<th lay-data="{field: 'dailyRevenue', width:120, sort: false,templet: function (value){return value.dailyRevenue.toFixed(0);},align: 'center'}">日收入</th>
						<th lay-data="{field: 'dailyRevenueNew', width:120, sort: false,templet: function (value){return value.dailyRevenueNew.toFixed(0);},align: 'center'}">新用户</th>
						<th lay-data="{field: 'dailyRevenueOld', width:120, sort: false,templet: function (value){return value.dailyRevenueOld.toFixed(0);},align: 'center'}">老用户</th>
						<th lay-data="{field: 'liveUser', width:120, sort: false,align: 'center'}">活跃用户</th>
						<th lay-data="{field: 'liveUserOld', width:120, sort: false,align: 'center'}">活跃老用户</th>
						<th lay-data="{field: 'liveUserNew', width:120, sort: false,align: 'center'}">新增用户</th>
						<th lay-data="{field: 'retentionDay2', width:160, sort: true,templet: function (value){if(!value.retentionDay2) return '0%';return new Number(value.retentionDay2*100).toFixed(2).toString()+'%';},align: 'center'}">次日</th>
						<th lay-data="{field: 'retentionDay3', width:160, sort: true,templet: function (value){if(!value.retentionDay3) return '0%';return new Number(value.retentionDay3*100).toFixed(2).toString()+'%';},align: 'center'}">3日</th>
						<th lay-data="{field: 'retentionDay5', width:160, sort: true,templet: function (value){if(!value.retentionDay5) return '0%';return new Number(value.retentionDay5*100).toFixed(2).toString()+'%';},align: 'center'}">5日</th>
						<th lay-data="{field: 'retentionDay7', width:160, sort: true,templet: function (value){if(!value.retentionDay7) return '0%';return new Number(value.retentionDay7*100).toFixed(2).toString()+'%';},align: 'center'}">7日</th>
						<th lay-data="{field: 'retentionDay15', width:160, sort: true,templet: function (value){if(!value.retentionDay15) return '0%';return new Number(value.retentionDay15*100).toFixed(2).toString()+'%';},align: 'center'}">15日</th>
						<th lay-data="{field: 'retentionDay30', width:160, sort: true,templet: function (value){if(!value.retentionDay30) return '0%';return new Number(value.retentionDay30*100).toFixed(2).toString()+'%';},align: 'center'}">30日</th>
						<th lay-data="{field: 'arpu', width:140, sort: false,templet: function (value){return value.arpu.toFixed(2);},align: 'center'}">ARPU</th>
						<th lay-data="{field: 'arppu', width:140, sort: false,templet: function (value){return value.arppu.toFixed(2);},align: 'center'}">ARPPU</th>
						<th lay-data="{field: 'payUser', width:140, sort: false,align: 'center'}">充值用户数</th>
						<th lay-data="{field: 'payUserNew', width:140, sort: false,align: 'center'}">新用户</th>
						<th lay-data="{field: 'payUserOld', width:140, sort: false,align: 'center'}">老用户</th>
						<th lay-data="{field: 'payRate', width:130, sort: false,templet: function (value){return (value.payRate*100).toFixed(2)+'%';},align: 'center'}">付费率</th>
						<th lay-data="{field: 'payRateNew', width:130, sort: false,templet: function (value){return (value.payRateNew*100).toFixed(2)+'%';},align: 'center'}">新用户</th>
						<th lay-data="{field: 'payRateOld', width:130, sort: false,templet: function (value){return (value.payRateOld*100).toFixed(2)+'%';},align: 'center'}">老用户</th>
					</tr>
				</thead>
			</table> -->
		</div>
	</div>

	<th:block th:replace="base:: common_javascript(~{::script})">
		<script src="/js/chosen.jquery.js" th:src="@{/js/chosen.jquery.js}"></script>
		<script src="/js/prism.js" th:src="@{/js/prism.js}"></script>
  		<script src="/js/init.js" th:src="@{/js/init.js}"></script>
  		<script src="./index.js" th:src="@{/generalInfo/basicInfo/index.js}"></script>
	</th:block>
</body>
</html>